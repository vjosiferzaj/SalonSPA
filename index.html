<!-- Full HTML Template Structure -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Salon & Spa Booking Portal</title>
    <link rel="stylesheet" href="style.css" />
    <script src="script.js" defer></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />
    <style>
      .swiper-slide img {
        width: 100%;
        height: 180px;
        object-fit: cover;
        border-radius: 10px;
      }
      .swiper-button-prev,
      .swiper-button-next {
        color: rgba(128, 128, 128, 0.5);
        font-size: 28px;
        font-weight: bold;
      }
      .back-button {
        display: inline-block;
        margin-top: 1rem;
        color: #555;
        font-size: 14px;
        text-decoration: underline;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <!-- Login Page -->
    <section id="login-section" class="view active">
      <div class="login-box">
        <h2>Login</h2>
        <form id="login-form">
          <select id="role-select">
            <option value="user">Customer</option>
            <option value="staff">Staff</option>
            <option value="admin">Admin</option>
          </select>
          <input type="text" placeholder="Username" required />
          <input type="password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>
      </div>
    </section>

    <!-- User Dashboard -->
    <section id="user-dashboard" class="view">
      <nav class="user-navbar">
        <div class="nav-left">Salon & Spa</div>
        <div class="nav-right">
          <a href="#about-section">About Us</a>
          <a href="#contact-section">Contact</a>
          <a href="profile.html" class="profile-button">Profile</a>
          <a href="#services-section" class="book-button">Book</a>
        </div>
      </nav>
      <div class="blur-overlay"></div>

      <h1 class="welcome-text">Welcome, Customer</h1>
      <p class="welcome-description">
        We're delighted to have you here at our Salon & Spa. Enjoy a relaxing
        experience with our expert services tailored just for you.
      </p>
      <section id="about-section" class="info-section">
        <h2>About Us</h2>
        <p>
          At our Salon & Spa, we believe self-care is essential. Our team of
          skilled professionals is dedicated to providing high-quality
          treatments in a relaxing, welcoming environment. Whether you're here
          for a quick trim or a full day of pampering, your satisfaction is our
          top priority.
        </p>
      </section>
      <h2 class="select-service-label">Select a Service</h2>
      <div class="swiper-container" id="services-section">
        <div class="swiper-wrapper">
          <div
            class="swiper-slide"
            data-category="Hair"
            onclick="selectService('Hair')"
          >
            <img
              src="images/hair.jpg"
              alt="Hair"
              style="width: 100%; border-radius: 10px"
            />
            <h3>Hair</h3>
            <p>Haircuts, coloring, styling</p>
          </div>
          <div
            class="swiper-slide"
            data-category="Nails"
            onclick="selectService('Nails')"
          >
            <img
              src="images/nails.jpg"
              alt="Nails"
              style="width: 100%; border-radius: 10px"
            />
            <h3>Nails</h3>
            <p>Manicure, pedicure, nail art</p>
          </div>
          <div
            class="swiper-slide"
            data-category="Massage"
            onclick="selectService('Massage')"
          >
            <img
              src="images/massage.jpg"
              alt="Massage"
              style="width: 100%; border-radius: 10px"
            />
            <h3>Massage</h3>
            <p>Swedish, deep tissue, aromatherapy</p>
          </div>
          <div
            class="swiper-slide"
            data-category="Facial"
            onclick="selectService('Facial')"
          >
            <img
              src="images/face.jpg"
              alt="Facial"
              style="width: 100%; border-radius: 10px"
            />
            <h3>Facial</h3>
            <p>Exfoliation, hydration, anti-aging</p>
          </div>
        </div>
      </div>
      <div
        id="calendarModal"
        style="
          display: none;
          padding: 1rem;
          background: #fff;
          border-radius: 10px;
          box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
          position: fixed;
          top: 20%;
          left: 50%;
          transform: translateX(-50%);
          z-index: 1000;
        "
      >
        <h3 id="calendarTitle">Book a service</h3>
        <select id="subcategorySelect" style="margin-bottom: 1rem; width: 100%">
          <option value="" disabled selected>Select a service type</option>
        </select>
        <input type="date" id="appointmentDate" />
        <button onclick="confirmAppointment()">Confirm</button>
        <button
          onclick="document.getElementById('calendarModal').style.display = 'none'"
        >
          Cancel
        </button>
      </div>

      <section id="contact-section" class="info-section">
        <h2>Contact Us</h2>
        <p>Email: contact@salonspa.com</p>
      </section>
      <section id="location" style="margin-top: 4rem; text-align: center">
        <h2>Visit Us</h2>
        <p>Autostrada TiranÃ«-Rinas, km. 12, 1000, Albania</p>
        <div style="width: 100%; max-width: 1200px; margin: 2rem auto 0">
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2992.5910886384318!2d19.7063579!3d41.40468589999999!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x13502c4d8e14227d%3A0x92c16879aa946786!2sEpoka%20University!5e0!3m2!1sen!2s!4v1748447194857!5m2!1sen!2s"
            width="100%"
            height="400"
            style="border: 0; border-radius: 10px"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </section>
    </section>

    <!-- Booking Page -->
    <section id="booking-page" class="view">
      <h2>Book Service</h2>
      <form id="booking-form">
        <input type="text" placeholder="Your Name" required />
        <input type="text" placeholder="Phone Number" required />
        <select id="service-select"></select>
        <select id="staff-select"></select>
        <input type="date" required />
        <input type="time" required />
        <button type="submit">Confirm Booking</button>
      </form>
      <div id="booking-success" class="popup hidden">Booking Successful!</div>
      <div class="back-button" id="back-to-dashboard">&larr; Go Back</div>
    </section>

    <!-- Staff & Admin dashboards (placeholders) -->
    <section
      id="staff-dashboard"
      class="view"
      style="
        padding: 2rem;
        background: #684f3f;
        color: #f5eee6;
        border-radius: 16px;
        max-width: 600px;
        margin: auto;
        font-family: 'Segoe UI', sans-serif;
      "
    >
      <h1 style="margin-bottom: 1rem; font-size: 1.8rem">Welcome, Staff</h1>
      <p id="staffStatus" style="margin-bottom: 1rem; font-weight: bold"></p>

      <!-- Nav Buttons -->
      <nav style="margin-bottom: 1.5rem; display: flex; gap: 0.5rem">
        <button
          onclick="showStaffPanel('schedulePanel')"
          style="
            background: #927c66;
            color: #ffffff;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
          "
        >
          Schedule
        </button>
        <button
          onclick="showStaffPanel('updateInfoPanel')"
          style="
            background: #927c66;
            color: #ffffff;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
          "
        >
          Update Info
        </button>
      </nav>

      <!-- Appointment Schedule Panel -->
      <div id="schedulePanel" class="staff-panel">
        <h2 style="font-size: 1.4rem; margin-bottom: 0.5rem">
          Today's Appointments
        </h2>
        <ul
          id="appointmentList"
          style="list-style: none; padding: 0; margin: 0"
        ></ul>
      </div>

      <!-- Update Info Panel -->
      <div id="updateInfoPanel" class="staff-panel" style="display: none">
        <h2 style="font-size: 1.4rem; margin-bottom: 0.5rem">Update Info</h2>
        <form onsubmit="updateStaffInfo(event)">
          <input
            type="text"
            id="staffName"
            placeholder="Your Name"
            style="
              width: 100%;
              padding: 0.5rem;
              margin-bottom: 0.5rem;
              border-radius: 6px;
              border: none;
            "
          />
          <input
            type="text"
            id="staffPhone"
            placeholder="Phone Number"
            style="
              width: 100%;
              padding: 0.5rem;
              margin-bottom: 0.5rem;
              border-radius: 6px;
              border: none;
            "
          />
          <label style="display: block; margin: 0.5rem 0 0.25rem"
            >Specialties:</label
          >
          <div style="display: flex; flex-wrap: wrap; gap: 0.5rem">
            <label><input type="checkbox" value="Hair" /> Hair</label>
            <label><input type="checkbox" value="Massage" /> Massage</label>
            <label><input type="checkbox" value="Nails" /> Nails</label>
            <label><input type="checkbox" value="Facial" /> Facial</label>
          </div>
          <button
            type="submit"
            style="
              margin-top: 1rem;
              background: #e0a96d;
              color: #3b2f2f;
              border: none;
              padding: 0.4rem 1rem;
              border-radius: 6px;
              font-size: 0.9rem;
              cursor: pointer;
            "
          >
            Save Changes
          </button>
        </form>
      </div>

      <!-- Logout -->
      <button
        style="
          margin-top: 2rem;
          background: transparent;
          border: 1px solid #e0a96d;
          color: #e0a96d;
          padding: 0.4rem 0.8rem;
          border-radius: 6px;
          font-size: 0.9rem;
          cursor: pointer;
        "
        onclick="logout()"
      >
        Logout
      </button>
    </section>

    <section
      id="admin-dashboard"
      class="view"
      style="
        padding: 1rem;
        color: #f5eee6;
        background: #3b2f2f;
        border-radius: 12px;
      "
    >
      <h1>Welcome, Admin</h1>

      <nav style="margin-bottom: 1rem">
        <button onclick="showPanel('servicesPanel')">Manage Services</button>

        <!-- Replace both buttons with one -->
        <button onclick="showPanel('usersPanel')">Manage Users</button>

        <button onclick="showPanel('reportsPanel')">Reports</button>
        <button onclick="showPanel('inventoryPanel')">Inventory</button>
      </nav>

      <div id="servicesPanel" class="admin-panel">
        <h2>Manage Services</h2>
        <input id="newServiceName" placeholder="Service Name" />
        <input id="newServicePrice" placeholder="Price" type="number" min="0" />
        <button onclick="addService()">Add Service</button>
        <ul id="serviceList"></ul>
      </div>

      <div id="staffPanel" class="admin-panel" style="display: none">
        <h2>Manage Staff Accounts</h2>
        <p><em>Coming soon</em></p>
      </div>

      <div id="usersPanel" class="admin-panel" style="display: none">
        <h2>Manage Users</h2>

        <button onclick="showAddUserModal()" style="margin-bottom: 1rem">
          Add User
        </button>
        <ul id="userList"></ul>
      </div>

      <div id="reportsPanel" class="admin-panel" style="display: none">
        <h2>Reports</h2>
        <button onclick="generateReport('revenue')">
          Generate Revenue Report
        </button>
        <button onclick="generateReport('services')">
          Generate Services Report
        </button>
        <button onclick="generateReport('staffPerformance')">
          Generate Staff Performance Report
        </button>
        <br />
        <button onclick="exportReport('pdf')">Export PDF</button>
        <button onclick="exportReport('excel')">Export Excel</button>
      </div>

      <div id="inventoryPanel" class="admin-panel" style="display: none">
        <h2>Inventory Management</h2>
        <p><em>Coming soon</em></p>
      </div>

      <button
        style="
          margin-top: 2rem;
          background: #e0a96d;
          color: #3b2f2f;
          border: none;
          padding: 0.5rem 1rem;
          border-radius: 6px;
          cursor: pointer;
        "
        onclick="logout()"
      >
        Logout
      </button>
    </section>
    <!-- Location Section -->
    <div
      id="addUserModal"
      style="
        display: none;
        position: fixed;
        top: 20%;
        left: 50%;
        transform: translateX(-50%);
        background: #f5eee6;
        color: #3b2f2f;
        padding: 1rem;
        border-radius: 12px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
        z-index: 1000;
        min-width: 300px;
      "
    >
      <h3>Add New User</h3>
      <input
        id="newUserName"
        placeholder="Name"
        style="display: block; width: 100%; margin-bottom: 0.5rem"
      />
      <input
        id="newUserPassword"
        placeholder="Password"
        type="password"
        style="display: block; width: 100%; margin-bottom: 0.5rem"
      />
      <select id="newUserRole" style="width: 100%; margin-bottom: 1rem">
        <option value="customer">Customer</option>
        <option value="staff">Staff</option>
      </select>
      <button onclick="addUser()" style="margin-right: 0.5rem">Add</button>
      <button onclick="hideAddUserModal()">Cancel</button>
    </div>
    <script>
      // Sample data
      let services = [
        { id: 1, name: "Haircut", price: 30 },
        { id: 2, name: "Massage", price: 60 },
      ];

      let users = [
        { id: 1, name: "Alice", role: "customer" },
        { id: 2, name: "Bob", role: "staff" },
        { id: 3, name: "Carol", role: "customer" },
      ];

      // Show selected panel only
      function showPanel(panelId) {
        document.querySelectorAll(".admin-panel").forEach((p) => {
          p.style.display = p.id === panelId ? "block" : "none";
        });
      }

      // Render services list
      function renderServices() {
        const list = document.getElementById("serviceList");
        list.innerHTML = "";
        services.forEach((service) => {
          const li = document.createElement("li");
          li.textContent = `${service.name} - $${service.price.toFixed(2)}`;
          const removeBtn = document.createElement("button");
          removeBtn.textContent = "Remove";
          removeBtn.style.marginLeft = "1rem";
          removeBtn.onclick = () => {
            services = services.filter((s) => s.id !== service.id);
            renderServices();
          };
          li.appendChild(removeBtn);
          list.appendChild(li);
        });
      }

      // Add new service
      function addService() {
        const nameInput = document.getElementById("newServiceName");
        const priceInput = document.getElementById("newServicePrice");
        const name = nameInput.value.trim();
        const price = parseFloat(priceInput.value);

        if (!name || isNaN(price) || price < 0) {
          alert("Please enter a valid name and price.");
          return;
        }
        const newId = services.length
          ? Math.max(...services.map((s) => s.id)) + 1
          : 1;
        services.push({ id: newId, name, price });
        nameInput.value = "";
        priceInput.value = "";
        renderServices();
      }

      // Render users list for role assignment
      function renderUsers() {
        const list = document.getElementById("userList");
        list.innerHTML = "";
        users.forEach((user) => {
          const li = document.createElement("li");
          li.textContent = `${user.name} - Role: ${user.role}`;

          // Toggle role button
          const toggleBtn = document.createElement("button");
          toggleBtn.textContent =
            user.role === "customer" ? "Make Staff" : "Make Customer";
          toggleBtn.style.marginLeft = "1rem";
          toggleBtn.onclick = () => {
            user.role = user.role === "customer" ? "staff" : "customer";
            renderUsers();
          };

          // Remove user button
          const removeBtn = document.createElement("button");
          removeBtn.textContent = "Remove";
          removeBtn.style.marginLeft = "1rem";
          removeBtn.onclick = () => {
            if (confirm(`Remove user ${user.name}?`)) {
              users = users.filter((u) => u.id !== user.id);
              renderUsers();
            }
          };

          li.appendChild(toggleBtn);
          li.appendChild(removeBtn);
          list.appendChild(li);
        });
      }

      // Placeholder report generation functions
      function generateReport(type) {
        alert(`Generating ${type} report... (functionality coming soon)`);
      }

      // Placeholder export functions
      function exportReport(format) {
        alert(
          `Exporting report as ${format.toUpperCase()}... (functionality coming soon)`
        );
      }

      // Logout: redirect to login page
      function logout() {
        document.querySelectorAll(".view").forEach((section) => {
          section.classList.remove("active");
        });

        // Add active class to login-section
        document.getElementById("login-section").classList.add("active");
      }
      function showAddUserModal() {
        document.getElementById("addUserModal").style.display = "block";
      }

      function hideAddUserModal() {
        document.getElementById("addUserModal").style.display = "none";
      }

      function addUser() {
        const name = document.getElementById("newUserName").value.trim();
        const password = document.getElementById("newUserPassword").value; // optional
        const role = document.getElementById("newUserRole").value;

        if (!name || !role) {
          alert("Please fill in all fields.");
          return;
        }

        const newId = users.length
          ? Math.max(...users.map((u) => u.id)) + 1
          : 1;
        users.push({ id: newId, name, role });

        // Optionally store password somewhere if needed
        renderUsers();
        hideAddUserModal();

        // Clear fields
        document.getElementById("newUserName").value = "";
        document.getElementById("newUserPassword").value = "";
        document.getElementById("newUserRole").value = "customer";
      }

      // Initial render
      renderServices();
      renderUsers();

      // Show Manage Services panel by default
      showPanel("servicesPanel");
    </script>

    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
